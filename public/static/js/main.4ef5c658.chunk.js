(this["webpackJsonpweather-client"]=this["webpackJsonpweather-client"]||[]).push([[0],{59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var c=a(17),n=a(0),r=a.n(n),s=a(5),i=a.n(s),o=a(29),h=a(4),l=a.n(h),d=a(11),u=a(10),j=a(12),b=a.n(j),v=a(7),p=a(8),m=a(1);var f=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],r=a[1],s=e.getWeather;return Object(m.jsxs)("div",{className:"col mt-4",children:[Object(m.jsx)("h2",{className:"fw-bold fs-5",children:"Search for a City"}),Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault(),s(c)},className:"search-form",children:Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("input",{className:"form-control",onChange:function(e){r(e.target.value)},type:"text",name:"city-search",id:"city-search",placeholder:"City Name",value:c}),Object(m.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[Object(m.jsx)(v.a,{size:"1x",icon:p.b})," Search"]})]})})]})};var x=function(e){var t=e.weather,a=e.saveSearch;return Object(m.jsxs)("div",{className:"col mt-4",children:[Object(m.jsx)("h2",{className:"fw-bold fs-5",children:"Current Weather"}),Object(m.jsx)("div",{className:"card",children:t.name?Object(m.jsxs)("div",{className:"weather-data p-3 text-center",children:[Object(m.jsx)("h2",{children:t.name}),Object(m.jsxs)("h3",{children:[t.main.temp,"\xb0F"]}),Object(m.jsxs)("h3",{children:["Humidity : ",t.main.humidity,"%"]}),Object(m.jsxs)("button",{className:"btn btn-primary",onClick:function(){return function(e){var t={city:e.name,temp:e.main.temp,humidity:e.main.humidity};a(t)}(t)},children:[Object(m.jsx)(v.a,{size:"1x",icon:p.a})," Save"]})]}):Object(m.jsx)("h3",{className:"text-center p-3 fs-5 text-muted",children:"Search for a city to view current conditions"})})]})},O=a(27),w=a.n(O);var y=function(e){var t=e.search,a=e.deleteSearch,c=t.created_at;return Object(m.jsx)("div",{className:"col-xs-12 col-sm-6 col-md-4",children:Object(m.jsxs)("div",{className:"card mb-3 p-3",children:[Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsxs)("h4",{children:[" ",t.city]}),Object(m.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){a(t.id)},children:Object(m.jsx)(v.a,{icon:p.c,size:"1x"})})]}),Object(m.jsxs)("h4",{children:[" ",t.temp,"\xb0F"]}),Object(m.jsxs)("h4",{children:["Humidity : ",t.humidity,"%"]}),Object(m.jsx)("h6",{children:Object(m.jsx)(w.a,{format:"MM/DD/YYYY hh:mm:ss",date:c})})]})})};var S=function(e){var t=e.savedSearches,a=e.deleteSearch,c=e.getSearches;return Object(n.useEffect)((function(){c()}),[]),Object(m.jsxs)("div",{className:"row mt-4 previous-searches",children:[Object(m.jsx)("h2",{className:"fw-bold fs-5",children:"Saved Searches"}),t.length>0?t.map((function(e){return Object(m.jsx)(y,{deleteSearch:a,search:e},e.id)})):null]})},N=(a(59),a(6));var g=function(){var e=Object(N.e)(),t=Object(n.useState)({}),a=Object(u.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)([]),i=Object(u.a)(s,2),h=i[0],j=i[1],v=function(){var t=Object(d.a)(l.a.mark((function t(a){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/weather",t.prev=1,t.next=4,b.a.get("/api/weather",{params:{q:a,units:"imperial"}}).catch((function(e){var t;throw new Error((null===(t=e.response)||void 0===t?void 0:t.data)||"Unknown error. Please try again.")}));case 4:c=t.sent,r(c.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.show("".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(d.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/weather/saved",t.prev=1,t.next=4,b.a.get("/api/weather/saved").catch((function(e){var t;throw new Error((null===(t=e.response)||void 0===t?void 0:t.data)||"Unknown error. Please try again.")}));case 4:a=t.sent,j(Object(o.a)(a.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.show("".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(d.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/weather/save",t.prev=1,t.next=4,b.a.post("/api/weather/save",a).catch((function(e){var t;throw new Error((null===(t=e.response)||void 0===t?void 0:t.data)||"Unknown error. Please try again.")}));case 4:t.sent,p(),r(""),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.show("".concat(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(d.a)(l.a.mark((function t(a){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="/api/weather/delete/".concat(a),t.prev=1,t.next=4,b.a.delete(c,{data:{weatherId:a}}).catch((function(e){var t;throw new Error((null===(t=e.response)||void 0===t?void 0:t.data)||"Unknown error. Please try again.")}));case 4:t.sent,p(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.show("".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"fw-bold fs-4",children:"Weather App"}),Object(m.jsxs)("div",{className:"App container",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsx)(f,{getWeather:v})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)(x,{weather:c,savedSearches:h,setSavedSearches:j,saveSearch:O})}),Object(m.jsx)(S,{deleteSearch:w,savedSearches:h,setSavedSearches:j,getSearches:p})]})]})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,63)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))},C=a(28),E={position:N.b.BOTTOM_CENTER,timeout:5e3,offset:"30px",transition:N.c.SCALE,type:N.d.ERROR};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(N.a,Object(c.a)(Object(c.a)({template:C.a},E),{},{children:Object(m.jsx)(g,{})}))}),document.getElementById("root")),k()}},[[60,1,2]]]);
//# sourceMappingURL=main.4ef5c658.chunk.js.map